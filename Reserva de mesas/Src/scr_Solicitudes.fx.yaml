scr_Solicitudes As screen:
    OnVisible: =Refresh('Solicitudes de Modificacion')

    img_fondo_10 As image:
        Height: =768
        Image: ='subtle-prism (1)'
        ImagePosition: =ImagePosition.Fill
        Transparency: =0.3
        Visible: =false
        Width: =1366
        ZIndex: =1

    lbl_fondo_17 As label:
        Fill: |-
            =If(gal_eventos.Selected.Tipo_Color = "HEX", 
                ColorValue(gal_eventos.Selected.Color)
            , 
                RGBA(First(FirstN(Split(gal_eventos.Selected.Color, ";"), 2)).Value,Last(FirstN(Split(gal_eventos.Selected.Color, ";"), 2)).Value,Last(FirstN(Split(gal_eventos.Selected.Color, ";"), 3)).Value, 1))
        Height: =768
        Text: =""
        Width: =1366
        ZIndex: =2

    comp_Encabezado_7 As comp_Encabezado:
        ZIndex: =3

    lbl_titulo_solicitudes As label:
        Align: =Align.Center
        FontWeight: =FontWeight.Bold
        Height: =61
        Size: =20
        Text: ="Solicitudes"
        Width: =428
        X: =469
        ZIndex: =4

    th_gal_solicitud_modificacion As htmlViewer:
        Height: =601
        HtmlText: |-
            ="<div style=""margin: 0px; width: "&(Self.Width-13)&"px; height: "&(Self.Height-13)&"px; background-color: rgba(255,255,255,0.5); box-shadow: 2px 2px 2px 0px rgba(0,0,0,0.2); border-radius:5px""></div>"
        Width: =628
        X: =69
        Y: =125
        ZIndex: =9

    th_frm_solicitud_modificacion As htmlViewer:
        Height: =607
        HtmlText: |-
            ="<div style=""margin: 0px; width: "&(Self.Width-13)&"px; height: "&(Self.Height-13)&"px; background-color: rgba(255,255,255,0.5); box-shadow: 2px 2px 2px 0px rgba(0,0,0,0.2); border-radius:5px""></div>"
        Width: =601
        X: =732
        Y: =125
        ZIndex: =10

    icn_atras_5 As icon.BackArrow:
        Height: =45
        Icon: =Icon.BackArrow
        OnSelect: |-
            =Navigate(scr_Evento);
            Set(var_gal_solicitudes_modificacion, false)
        Width: =45
        X: =15
        Y: =75
        ZIndex: =13

    "gal_solicitudes_modificacion As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
        DelayItemLoading: =true
        Height: =540
        Items: |-
            =If(chk_pendientes.Value,
                Filter('Solicitudes de Modificacion', Id_Evento = DataCardValue27.Text, Estado = "Pendiente")
            ,
                Filter('Solicitudes de Modificacion', Id_Evento = DataCardValue27.Text)
            )
        Layout: =Layout.Vertical
        LoadingSpinner: =LoadingSpinner.Data
        TemplatePadding: =0
        TemplateSize: =104
        Width: =561
        X: =98
        Y: =148
        ZIndex: =15

        lbl_nombre_solicitante As label:
            FontWeight: =FontWeight.Bold
            Height: =25
            OnSelect: =Select(Parent)
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Text: |-
                ="Solicitante: "&ThisItem.'Creado por'.DisplayName
            VerticalAlign: =VerticalAlign.Top
            Width: =439
            X: =102
            Y: =6
            ZIndex: =1

        Separator1_8 As rectangle:
            Fill: =RGBA(100, 200, 255, 1)
            Height: =4
            OnSelect: =Select(Parent)
            Width: =Parent.TemplateWidth
            Y: =Parent.TemplateHeight - Self.Height
            ZIndex: =3

        Rectangle4_8 As rectangle:
            Height: =Parent.TemplateHeight - Separator1_8.Height
            OnSelect: =Select(Parent)
            Visible: =ThisItem.IsSelected
            Width: =4
            ZIndex: =4

        icn_perfil_7 As icon.Person:
            Icon: =Icon.Person
            OnSelect: =Select(Parent)
            X: =20
            Y: =20
            ZIndex: =8

        img_foto_perfil_6 As image:
            Height: =72
            Image: |-
                =If(CountRows(UsuariosdeOffice365.SearchUser({searchTerm: ThisItem.'Creado por'.Email, top: 15})) > 0,
                    If(!IsBlank(ThisItem.'Creado por'.Email), UsuariosdeOffice365.UserPhotoV2(ThisItem.'Creado por'.Email))
                )
            OnSelect: =Select(Parent)
            RadiusBottomLeft: =8
            RadiusBottomRight: =8
            RadiusTopLeft: =8
            RadiusTopRight: =8
            Visible: =var_gal_solicitudes_modificacion
            Width: =72
            X: =16
            Y: =(Parent.TemplateHeight / 2) - (Self.Height / 2)
            ZIndex: =9

        Title1_17 As label:
            FontWeight: =FontWeight.Bold
            Height: =25
            OnSelect: =Select(Parent)
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Text: =
            VerticalAlign: =VerticalAlign.Top
            Width: =316
            X: =122
            Y: =31
            ZIndex: =10

        lbl_estado_solicitud As label:
            Height: =30
            OnSelect: =Select(Parent)
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Text: |-
                ="Estado: "&If(ThisItem.Estado, "Resuelto", "Pendiente")
            Width: =224
            X: =102
            Y: =59
            ZIndex: =11

        lbl_fecha_solicitud As label:
            Height: =30
            OnSelect: =Select(Parent)
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Size: =13
            Text: |-
                ="Fecha: "&Text(ThisItem.Created, "dd/mm/yyyy hh.mm")
            Width: =257
            X: =303
            Y: =59
            ZIndex: =12

        lbl_fecha_solicitud_1 As label:
            FontWeight: =FontWeight.Bold
            Height: =25
            OnSelect: =Select(Parent)
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Text: |-
                ="Mesa: "&First(Filter(Mesas_1, ID = ThisItem.Id_Mesa)).Numero_Mesa
            VerticalAlign: =VerticalAlign.Top
            Width: =270
            X: =102
            Y: =34
            ZIndex: =13

    frm_solicitud_modificacion As form:
        DataSource: ='Solicitudes de Modificacion'
        Height: =562
        Item: =gal_solicitudes_modificacion.Selected
        NumberOfColumns: =1
        SnapToColumns: =false
        Visible: =CountRows(gal_solicitudes_modificacion.AllItems) > 0
        Width: =548
        X: =760
        Y: =145
        ZIndex: =16

        dc_comentario_solicitud As typedDataCard.textualEditCard:
            BorderStyle: =BorderStyle.Solid
            DataField: ="Comentarios"
            Default: =ThisItem.Comentarios
            DisplayMode: =If(gal_solicitudes_modificacion.Selected.Estado, DisplayMode.View , DisplayMode.Edit)
            DisplayName: =DataSourceInfo([@'Solicitudes de Modificacion'],DataSourceInfo.DisplayName,"field_8")
            Fill: =RGBA(0, 0, 0, 0)
            Height: =218
            MaxLength: =DataSourceInfo([@'Solicitudes de Modificacion'], DataSourceInfo.MaxLength, "field_8")
            Required: =false
            Update: =DataCardValue48_1.Text
            Width: =548
            X: =0
            Y: =2
            ZIndex: =1

            DataCardKey52_1 As label:
                AutoHeight: =true
                Height: =34
                Text: =Parent.DisplayName
                Width: =Parent.Width - 60
                Wrap: =false
                X: =30
                ZIndex: =1

            DataCardValue48_1 As text:
                BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                Default: =Parent.Default
                DelayOutput: =true
                DisplayMode: =Parent.DisplayMode
                Height: =133
                MaxLength: =Parent.MaxLength
                Mode: =TextMode.MultiLine
                PaddingLeft: =5
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Tooltip: =Parent.DisplayName
                Width: =Parent.Width - 60
                X: =30
                Y: =DataCardKey52_1.Y + DataCardKey52_1.Height + 5
                ZIndex: =2

            ErrorMessage38_1 As label:
                AutoHeight: =true
                Height: =10
                Live: =Live.Assertive
                PaddingBottom: =0
                PaddingLeft: =0
                PaddingRight: =0
                PaddingTop: =0
                Text: =Parent.Error
                Visible: =Parent.DisplayMode=DisplayMode.Edit
                Width: =Parent.Width - 60
                X: =30
                Y: =DataCardValue48_1.Y + DataCardValue48_1.Height
                ZIndex: =3

            StarVisible38_1 As label:
                Align: =Align.Center
                Height: =DataCardKey52_1.Height
                Text: ="*"
                Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                Width: =30
                Wrap: =false
                Y: =DataCardKey52_1.Y
                ZIndex: =4

        dc_estado_solicitud As typedDataCard.toggleEditCard:
            BorderStyle: =BorderStyle.Solid
            DataField: ="Estado"
            Default: =ThisItem.Estado
            DisplayMode: =Parent.DisplayMode
            DisplayName: =DataSourceInfo([@'Solicitudes de Modificacion'],DataSourceInfo.DisplayName,"field_6")
            Fill: =RGBA(0, 0, 0, 0)
            Height: =40
            Required: =false
            Update: =DataCardValue46_1.Value
            Width: =540
            X: =0
            Y: =0
            ZIndex: =17

            DataCardKey50_1 As label:
                AutoHeight: =true
                Height: =34
                Text: =Parent.DisplayName
                Width: =92
                Wrap: =false
                X: =30
                Y: =12
                ZIndex: =1

            DataCardValue46_1 As toggleSwitch:
                BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                Default: =If(Dropdown3_1.SelectedText.Value = "Pendiente", false, true)
                DisplayMode: =Parent.DisplayMode
                Tooltip: =Parent.DisplayName
                Visible: =false
                X: =305
                Y: =17
                ZIndex: =2

            ErrorMessage36_1 As label:
                Height: =10
                Live: =Live.Assertive
                PaddingBottom: =0
                PaddingLeft: =0
                PaddingRight: =0
                PaddingTop: =0
                Text: =Parent.Error
                Visible: =Parent.DisplayMode=DisplayMode.Edit
                Width: =367
                X: =30
                Y: =DataCardValue46_1.Y + DataCardValue46_1.Height
                ZIndex: =3

            StarVisible36_1 As label:
                Align: =Align.Center
                Height: =DataCardKey50_1.Height
                Text: ="*"
                Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                Width: =30
                Wrap: =false
                Y: =DataCardKey50_1.Y
                ZIndex: =4

            Dropdown3_1 As dropdown:
                Default: =If(ThisItem.Estado, "Resuelto", "Pendiente")
                DisplayMode: =If(gal_solicitudes_modificacion.Selected.Estado, DisplayMode.View , DisplayMode.Edit)
                Height: =33
                Items: =["Pendiente", "Resuelto"]
                Width: =171
                X: =122
                Y: =12
                ZIndex: =5

        dc_motivo_solicitud As typedDataCard.textualEditCard:
            BorderStyle: =BorderStyle.Solid
            DataField: ="Motivo"
            Default: =ThisItem.Motivo
            DisplayMode: =DisplayMode.View
            DisplayName: =DataSourceInfo([@'Solicitudes de Modificacion'],DataSourceInfo.DisplayName,"field_1")
            Fill: =RGBA(0, 0, 0, 0)
            Height: =181
            MaxLength: =DataSourceInfo([@'Solicitudes de Modificacion'], DataSourceInfo.MaxLength, "field_1")
            Required: =false
            Update: =DataCardValue43_1.Text
            Width: =548
            X: =0
            Y: =1
            ZIndex: =17

            DataCardKey47_1 As label:
                AutoHeight: =true
                Height: =34
                Text: =Parent.DisplayName
                Width: =Parent.Width - 60
                Wrap: =false
                X: =30
                ZIndex: =1

            DataCardValue43_1 As text:
                BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                Default: =Parent.Default
                DelayOutput: =true
                DisplayMode: =Parent.DisplayMode
                Height: =108
                MaxLength: =Parent.MaxLength
                Mode: =TextMode.MultiLine
                PaddingLeft: =5
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Tooltip: =Parent.DisplayName
                Width: =Parent.Width - 60
                X: =30
                Y: =DataCardKey47_1.Y + DataCardKey47_1.Height + 5
                ZIndex: =2

            ErrorMessage33_1 As label:
                AutoHeight: =true
                Height: =10
                Live: =Live.Assertive
                PaddingBottom: =0
                PaddingLeft: =0
                PaddingRight: =0
                PaddingTop: =0
                Text: =Parent.Error
                Visible: =Parent.DisplayMode=DisplayMode.Edit
                Width: =Parent.Width - 60
                X: =30
                Y: =DataCardValue43_1.Y + DataCardValue43_1.Height
                ZIndex: =3

            StarVisible33_1 As label:
                Align: =Align.Center
                Height: =DataCardKey47_1.Height
                Text: ="*"
                Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                Width: =30
                Wrap: =false
                Y: =DataCardKey47_1.Y
                ZIndex: =4

    icn_guardar_1 As icon.Save:
        Height: =50
        Icon: =Icon.Save
        OnSelect: |-
            =Set(var_comentarios, DataCardValue48_1.Text); Set(var_MesaComentarios, First(Filter(Mesas_1, ID = gal_solicitudes_modificacion.Selected.Id_Mesa)).Numero_Mesa);
            SubmitForm(frm_solicitud_modificacion);
            Refresh('Solicitudes de Modificacion');
            If(Dropdown3_1.Selected.Value = "Resuelto",
            'SantaBarbara-Modificacionresuelta_1'.Run(gal_solicitudes_modificacion.Selected.'Creado por'.Email, var_comentarios, var_MesaComentarios))
        Visible: =!gal_solicitudes_modificacion.Selected.Estado && CountRows(gal_solicitudes_modificacion.AllItems) > 0
        Width: =50
        X: =1224
        Y: =154
        ZIndex: =17

    chk_pendientes As checkbox:
        BorderStyle: =BorderStyle.None
        FontWeight: =FontWeight.Semibold
        OnSelect: |-
            =Set(var_gal_solicitudes_modificacion, false);
            Set(var_gal_solicitudes_modificacion2, true)
        Text: ="Pendientes"
        X: =101
        Y: =71
        ZIndex: =19

    tm_gal_invitados_3 As timer:
        AutoStart: =true
        Duration: =2000
        OnTimerEnd: =Set(var_gal_solicitudes_modificacion, true)
        Reset: =var_gal_solicitudes_modificacion
        Start: =
        Visible: =false
        Y: =728
        ZIndex: =20

    tm_gal_invitados_4 As timer:
        Duration: =1500
        OnTimerEnd: |-
            =Set(var_gal_solicitudes_modificacion2, false);
            Set(var_gal_solicitudes_modificacion, true)
        Reset: =var_gal_solicitudes_modificacion
        Start: =var_gal_solicitudes_modificacion2
        Visible: =false
        X: =184
        Y: =728
        ZIndex: =21

    lbl_sin_resultados_1 As label:
        Align: =Align.Center
        FontWeight: =FontWeight.Bold
        Height: =120
        Size: =20
        Text: ="Sin resultados"
        Visible: =CountRows(gal_solicitudes_modificacion.AllItems) = 0
        Width: =601
        X: =82
        Y: =358
        ZIndex: =22

