scr_Admins As screen:
    OnVisible: =Refresh(Reservas)

    img_fondo_9 As image:
        Height: =768
        Image: ='subtle-prism (1)'
        ImagePosition: =ImagePosition.Fill
        Transparency: =0.3
        Visible: =false
        Width: =1366
        ZIndex: =1

    lbl_fondo_16 As label:
        Fill: |-
            =If(gal_eventos.Selected.Tipo_Color = "HEX", 
                ColorValue(gal_eventos.Selected.Color)
            , 
                RGBA(First(FirstN(Split(gal_eventos.Selected.Color, ";"), 2)).Value,Last(FirstN(Split(gal_eventos.Selected.Color, ";"), 2)).Value,Last(FirstN(Split(gal_eventos.Selected.Color, ";"), 3)).Value, 1))
        Height: =768
        Text: =""
        Width: =1366
        ZIndex: =2

    comp_Encabezado_9 As comp_Encabezado:
        ZIndex: =3

    lbl_titulo_administradores As label:
        Align: =Align.Center
        FontWeight: =FontWeight.Bold
        Height: =61
        Size: =20
        Text: ="Administradores"
        Width: =549
        X: =408
        ZIndex: =4

    th_gal_admin As htmlViewer:
        Height: =673
        HtmlText: |-
            ="<div style=""margin: 0px; width: "&(Self.Width-13)&"px; height: "&(Self.Height-13)&"px; background-color: rgba(255,255,255,0.5); box-shadow: 2px 2px 2px 0px rgba(0,0,0,0.2); border-radius:5px""></div>"
        Width: =641
        X: =50
        Y: =75
        ZIndex: =9

    th_frm_admin As htmlViewer:
        Height: =434
        HtmlText: |-
            ="<div style=""margin: 0px; width: "&(Self.Width-13)&"px; height: "&(Self.Height-13)&"px; background-color: rgba(255,255,255,0.5); box-shadow: 2px 2px 2px 0px rgba(0,0,0,0.2); border-radius:5px""></div>"
        Width: =601
        X: =725
        Y: =194
        ZIndex: =10

    "gal_admin As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
        DelayItemLoading: =true
        Height: =630
        Items: =Roles
        Layout: =Layout.Vertical
        LoadingSpinner: =LoadingSpinner.Data
        TemplatePadding: =0
        TemplateSize: =104
        Width: =582
        X: =76
        Y: =96
        ZIndex: =15

        lbl_nombre_admin As label:
            FontWeight: =FontWeight.Bold
            Height: =25
            OnSelect: =Select(Parent)
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Text: |-
                ="Nombre: "&ThisItem.'Nombre (Title)'&" "&ThisItem.Apellido
            VerticalAlign: =VerticalAlign.Top
            Width: =402
            X: =87
            Y: =13
            ZIndex: =1

        Separator1_9 As rectangle:
            Fill: =RGBA(100, 200, 255, 1)
            Height: =4
            OnSelect: =Select(Parent)
            Width: =Parent.TemplateWidth
            Y: =Parent.TemplateHeight - Self.Height
            ZIndex: =3

        Rectangle4_9 As rectangle:
            Height: =Parent.TemplateHeight - Separator1_9.Height
            OnSelect: =Select(Parent)
            Visible: =ThisItem.IsSelected
            Width: =4
            ZIndex: =4

        icn_perfil_6 As icon.Person:
            Icon: =Icon.Person
            OnSelect: =Select(Parent)
            X: =13
            Y: =20
            ZIndex: =8

        img_foto_perfil_5 As image:
            Height: =72
            Image: |-
                =If(CountRows(UsuariosdeOffice365.SearchUser({searchTerm: ThisItem.Mail, top: 15})) > 0, 
                    If(!IsBlank(ThisItem.Mail), UsuariosdeOffice365.UserPhotoV2(ThisItem.Mail))
                )
            OnSelect: =Select(Parent)
            RadiusBottomLeft: =8
            RadiusBottomRight: =8
            RadiusTopLeft: =8
            RadiusTopRight: =8
            Visible: =var_gal_admin
            Width: =72
            X: =9
            Y: =(Parent.TemplateHeight / 2) - (Self.Height / 2)
            ZIndex: =9

        lbl_mail_admin As label:
            Height: =29
            OnSelect: =Select(Parent)
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Text: |-
                ="Mail: "&ThisItem.Mail
            Width: =495
            X: =87
            Y: =35
            ZIndex: =11

        icn_eliminar_4 As icon.Trash:
            Color: =RGBA(255, 0, 0, 1)
            Height: =30
            Icon: =Icon.Trash
            OnSelect: |-
                =//If(CountRows(Gallery1_2.AllItems) = 1; Patch(Mesas_1; Gallery3.Selected; {Estado: Dropdown2_4.Selected}));;
                Select(Parent);
                /*
                Remove(Roles; ThisItem);;
                ResetForm(Form4_2);;
                Set(var_editAdmin; 1);;
                NewForm(Form4_2);;
                Refresh(Roles);;
                */
                Set(var_removeInvitado4, true)
            Width: =30
            X: =519
            Y: =66
            ZIndex: =13

        icn_editar_4 As icon.Trash:
            Color: =RGBA(39, 113, 194, 1)
            Height: =30
            Icon: =Icon.Edit
            OnSelect: |-
                =Select(Parent);
                ResetForm(frm_admin);
                EditForm(frm_admin);
                //Set(var_EditInvitado; true);;
                Set(var_editAdmin, 0)
            Width: =30
            X: =489
            Y: =66
            ZIndex: =14

        icn_estado_admin As icon.Bell:
            DisplayMode: =DisplayMode.View
            Height: =30
            Icon: =Icon.Support
            OnSelect: =Select(Parent)
            Visible: =ThisItem.Administrador
            Width: =30
            X: =87
            Y: =63
            ZIndex: =15

    frm_admin As form:
        DataSource: =Roles
        DefaultMode: =var_editAdmin
        Height: =397
        Item: =gal_admin.Selected
        NumberOfColumns: =1
        SnapToColumns: =false
        Width: =548
        X: =750
        Y: =222
        ZIndex: =16

        dc_nombre_admin As typedDataCard.textualEditCard:
            BorderStyle: =BorderStyle.Solid
            DataField: ="Nombre"
            Default: =ThisItem.'Nombre (Title)'
            DisplayMode: =Parent.DisplayMode
            DisplayName: =DataSourceInfo([@Roles],DataSourceInfo.DisplayName,"Title")
            Fill: =RGBA(0, 0, 0, 0)
            Height: =50
            MaxLength: =DataSourceInfo([@Roles], DataSourceInfo.MaxLength, "Title")
            Required: =false
            Update: =DataCardValue33.Text
            Width: =548
            X: =0
            Y: =1
            ZIndex: =17

            DataCardKey37 As label:
                AutoHeight: =true
                Height: =34
                Text: =Parent.DisplayName
                Width: =Parent.Width - 60
                Wrap: =false
                X: =30
                Y: =10
                ZIndex: =1

            DataCardValue33 As text:
                BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                Default: =Parent.Default
                DelayOutput: =true
                DisplayMode: =Parent.DisplayMode
                MaxLength: =Parent.MaxLength
                PaddingLeft: =5
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Tooltip: =Parent.DisplayName
                Width: =Parent.Width - 60
                X: =30
                Y: =DataCardKey37.Y + DataCardKey37.Height + 5
                ZIndex: =2

            ErrorMessage28 As label:
                AutoHeight: =true
                Height: =10
                Live: =Live.Assertive
                PaddingBottom: =0
                PaddingLeft: =0
                PaddingRight: =0
                PaddingTop: =0
                Text: =Parent.Error
                Visible: =Parent.DisplayMode=DisplayMode.Edit
                Width: =Parent.Width - 60
                X: =30
                Y: =DataCardValue33.Y + DataCardValue33.Height
                ZIndex: =3

            StarVisible9 As label:
                Align: =Align.Center
                Color: =RGBA(168, 0, 0, 1)
                Height: =DataCardKey37.Height
                Text: ="*"
                Width: =30
                Wrap: =false
                Y: =DataCardKey37.Y
                ZIndex: =4

        dc_apellido_admin As typedDataCard.textualEditCard:
            BorderStyle: =BorderStyle.Solid
            DataField: ="Apellido"
            Default: =ThisItem.Apellido
            DisplayMode: =Parent.DisplayMode
            DisplayName: =DataSourceInfo([@Roles],DataSourceInfo.DisplayName,"field_1")
            Fill: =RGBA(0, 0, 0, 0)
            Height: =50
            MaxLength: =DataSourceInfo([@Roles], DataSourceInfo.MaxLength, "field_1")
            Required: =false
            Update: =DataCardValue34.Text
            Width: =548
            X: =0
            Y: =2
            ZIndex: =17

            DataCardKey38 As label:
                AutoHeight: =true
                Height: =34
                Text: =Parent.DisplayName
                Width: =Parent.Width - 60
                Wrap: =false
                X: =30
                Y: =10
                ZIndex: =1

            DataCardValue34 As text:
                BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                Default: =Parent.Default
                DelayOutput: =true
                DisplayMode: =Parent.DisplayMode
                MaxLength: =Parent.MaxLength
                PaddingLeft: =5
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Tooltip: =Parent.DisplayName
                Width: =Parent.Width - 60
                X: =30
                Y: =DataCardKey38.Y + DataCardKey38.Height + 5
                ZIndex: =2

            ErrorMessage30 As label:
                AutoHeight: =true
                Height: =10
                Live: =Live.Assertive
                PaddingBottom: =0
                PaddingLeft: =0
                PaddingRight: =0
                PaddingTop: =0
                Text: =Parent.Error
                Visible: =Parent.DisplayMode=DisplayMode.Edit
                Width: =Parent.Width - 60
                X: =30
                Y: =DataCardValue34.Y + DataCardValue34.Height
                ZIndex: =3

            StarVisible10 As label:
                Align: =Align.Center
                Color: =RGBA(168, 0, 0, 1)
                Height: =DataCardKey38.Height
                Text: ="*"
                Width: =30
                Wrap: =false
                Y: =DataCardKey38.Y
                ZIndex: =4

        dc_mail_admin As typedDataCard.textualEditCard:
            BorderStyle: =BorderStyle.Solid
            DataField: ="Mail"
            Default: =ThisItem.Mail
            DisplayMode: =Parent.DisplayMode
            DisplayName: =DataSourceInfo([@Roles],DataSourceInfo.DisplayName,"field_2")
            Fill: =RGBA(0, 0, 0, 0)
            Height: =50
            MaxLength: =DataSourceInfo([@Roles], DataSourceInfo.MaxLength, "field_2")
            Required: =false
            Update: =DataCardValue43.Text
            Width: =548
            X: =0
            Y: =3
            ZIndex: =17

            DataCardKey47 As label:
                AutoHeight: =true
                Height: =34
                Text: =Parent.DisplayName
                Width: =Parent.Width - 60
                Wrap: =false
                X: =30
                Y: =10
                ZIndex: =1

            DataCardValue43 As text:
                BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                Default: =Parent.Default
                DelayOutput: =true
                DisplayMode: =Parent.DisplayMode
                MaxLength: =Parent.MaxLength
                PaddingLeft: =5
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Tooltip: =Parent.DisplayName
                Width: =Parent.Width - 60
                X: =30
                Y: =DataCardKey47.Y + DataCardKey47.Height + 5
                ZIndex: =2

            ErrorMessage33 As label:
                AutoHeight: =true
                Height: =10
                Live: =Live.Assertive
                PaddingBottom: =0
                PaddingLeft: =0
                PaddingRight: =0
                PaddingTop: =0
                Text: =Parent.Error
                Visible: =Parent.DisplayMode=DisplayMode.Edit
                Width: =Parent.Width - 60
                X: =30
                Y: =DataCardValue43.Y + DataCardValue43.Height
                ZIndex: =3

            StarVisible11 As label:
                Align: =Align.Center
                Color: =RGBA(168, 0, 0, 1)
                Height: =DataCardKey47.Height
                Text: ="*"
                Width: =30
                Wrap: =false
                Y: =DataCardKey47.Y
                ZIndex: =4

        dc_switch_admin As typedDataCard.toggleEditCard:
            BorderStyle: =BorderStyle.Solid
            DataField: ="Administrador"
            Default: =ThisItem.Administrador
            DisplayMode: =Parent.DisplayMode
            DisplayName: =DataSourceInfo([@Roles],DataSourceInfo.DisplayName,"field_3")
            Fill: =RGBA(0, 0, 0, 0)
            Height: =50
            Required: =false
            Update: =DataCardValue48.Value
            Width: =548
            X: =0
            Y: =4
            ZIndex: =17

            DataCardKey52 As label:
                AutoHeight: =true
                Height: =34
                Text: =Parent.DisplayName
                Width: =Parent.Width - 60
                Wrap: =false
                X: =30
                Y: =10
                ZIndex: =1

            DataCardValue48 As toggleSwitch:
                BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                Default: =Parent.Default
                DisplayMode: =Parent.DisplayMode
                Tooltip: =Parent.DisplayName
                Width: =170
                X: =30
                Y: =DataCardKey52.Y + DataCardKey52.Height + 5
                ZIndex: =2

            ErrorMessage38 As label:
                AutoHeight: =true
                Height: =10
                Live: =Live.Assertive
                PaddingBottom: =0
                PaddingLeft: =0
                PaddingRight: =0
                PaddingTop: =0
                Text: =Parent.Error
                Visible: =Parent.DisplayMode=DisplayMode.Edit
                Width: =Parent.Width - 60
                X: =30
                Y: =DataCardValue48.Y + DataCardValue48.Height
                ZIndex: =3

            StarVisible12 As label:
                Align: =Align.Center
                Height: =DataCardKey52.Height
                Text: ="*"
                Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                Width: =30
                Wrap: =false
                Y: =DataCardKey52.Y
                ZIndex: =4

    icn_agregar_usuario_1 As icon.Save:
        DisplayMode: |-
            =If(And(Len(DataCardValue43.Text)>0, Len(DataCardValue33.Text)>0, Len(DataCardValue34.Text)>0),
            DisplayMode.Edit,
            DisplayMode.Disabled)
        Height: =45
        Icon: =If(var_editAdmin=0, Icon.Save, Icon.AddUser)
        OnSelect: |-
            =SubmitForm(frm_admin);
            Refresh(Roles);
            ResetForm(frm_admin);
            Set(var_editAdmin, 1)
        Width: =45
        X: =1221
        Y: =210
        ZIndex: =17

    lbl_fondo_15 As label:
        Fill: =RGBA(23, 137, 230, 0.7)
        Height: =768
        Text: =""
        Visible: =var_removeInvitado4
        Width: =1366
        ZIndex: =18

    th_pup_fondo_elimina_admin As htmlViewer:
        Height: =289
        HtmlText: |-
            ="<div style=""margin: 0px; width: "&(Self.Width-13)&"px; height: "&(Self.Height-13)&"px; background-color: rgba(255,255,255,0.9); box-shadow: 2px 2px 2px 0px rgba(0,0,0,0.2); border-radius:5px""></div>"
        Visible: =var_removeInvitado4
        Width: =727
        X: =365
        Y: =301
        ZIndex: =19

    btn_elimina_admin As button:
        Fill: =RGBA(54, 176, 75, 1)
        HoverFill: =ColorFade(Self.Fill, -20%)
        OnSelect: |-
            =Remove(Roles, gal_admin.Selected);
            ResetForm(frm_admin);
            Set(var_editAdmin, 1);
            NewForm(frm_admin);
            Refresh(Roles);
            Set(var_removeInvitado4, false)
        Text: ="Eliminar"
        Visible: =var_removeInvitado4
        X: =765
        Y: =499
        ZIndex: =20

    btn_cancelar_eliminar_admin As button:
        Fill: =RGBA(255, 0, 0, 1)
        HoverFill: =ColorFade(Self.Fill, -20%)
        OnSelect: =Set(var_removeInvitado4, false)
        Text: ="Cancelar"
        Visible: =var_removeInvitado4
        X: =543
        Y: =499
        ZIndex: =21

    lbl_pup_eliminar_admin As label:
        Align: =Align.Center
        FontWeight: =FontWeight.Bold
        Height: =174
        Size: =25
        Text: ="¿Estás seguro de querer eliminar a "&gal_admin.Selected.'Nombre (Title)'&" "&gal_admin.Selected.Apellido&" como administrador?"
        VerticalAlign: =If(!IsBlank(var_reserva) || var_reserva.Estacionamiento, VerticalAlign.Middle, VerticalAlign.Top)
        Visible: =var_removeInvitado4
        Width: =682
        X: =387
        Y: =325
        ZIndex: =22

    tm_gal_invitados_5 As timer:
        AutoStart: =true
        Duration: =1500
        OnTimerEnd: =Set(var_gal_admin, true)
        OnTimerStart: =Set(var_gal_admin, false)
        Visible: =false
        X: =797
        Y: =96
        ZIndex: =23

