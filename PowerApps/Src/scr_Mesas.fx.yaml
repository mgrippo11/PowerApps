scr_Mesas As screen:
    Fill: =RGBA(0, 0, 0, 0)
    OnVisible: |-
        =Refresh(Mesas_1); Refresh(Reservas);
        Set(var_Orden, 0);
        ClearCollect(col_OrdenMesa, 
            ForAll(Filter(Mesas_1 , Id_Evento = DataCardValue27.Text),  
                {Orden:Numero_Mesa}
            )
        )

    img_fondo_6 As image:
        Height: =768
        Image: ='subtle-prism (1)'
        ImagePosition: =ImagePosition.Fill
        Transparency: =0.3
        Visible: =false
        Width: =1366
        ZIndex: =1

    lbl_fondo_9 As label:
        Fill: =If(img_switchcolor.Value, If(IsError(ColorValue(DataCardValue28.Text)), RGBA(100, 255, 255, 1), ColorValue(DataCardValue28.Text)), RGBA(sldr_rojo.Value, sldr_verde.Value, sldr_azul.Value, 1))
        Height: =768
        Text: =""
        Width: =1366
        ZIndex: =2

    comp_Encabezado_8 As comp_Encabezado:
        ZIndex: =3

    lbl_titulo_detalle_mesas As label:
        Align: =Align.Center
        FontWeight: =FontWeight.Bold
        Height: =61
        Size: =20
        Text: ="Detalle de las mesas"
        Width: =458
        X: =454
        ZIndex: =4

    ddl_pendiente_2 As dropdown:
        Height: =32
        Items: =["Pendiente"]
        Visible: =false
        Width: =135
        X: =1231
        Y: =736
        ZIndex: =5

    tm_temporizador_5 As timer:
        AutoPause: =false
        AutoStart: =false//App.ActiveScreen.Name = "scr_SeleccionMesa"
        Duration: =6000
        OnSelect: =
        OnTimerEnd: |-
            =Refresh(Mesas_1);
            Refresh(Reservas);
        OnTimerStart: =
        Repeat: =false//App.ActiveScreen.Name = "scr_SeleccionMesa"
        Reset: =true
        Start: =true
        Visible: =false
        X: =1206
        Y: =728
        ZIndex: =6

    th_fondo_grilla As htmlViewer:
        Height: =657
        HtmlText: |-
            ="<div style=""margin: 0px; width: "&(Self.Width-13)&"px; height: "&(Self.Height-13)&"px; background-color: rgba(255,255,255,0.5); box-shadow: 2px 2px 2px 0px rgba(0,0,0,0.2); border-radius:5px""></div>"
        Width: =931
        X: =324
        Y: =87
        ZIndex: =7

    "gal_grilla_mesas As gallery.'BrowseLayout_Vertical_TwoTextVariant_ver5.0'":
        BorderStyle: =BorderStyle.None
        DelayItemLoading: =true
        Height: =615
        Items: =Sort(Filter(Mesas_1 , Id_Evento = DataCardValue27.Text), Numero_Mesa,SortOrder.Ascending)
        Layout: =Layout.Vertical
        LoadingSpinner: =LoadingSpinner.Data
        TemplatePadding: =0
        TemplateSize: =90
        Transition: =Transition.Pop
        Width: =908
        WrapCount: =10
        X: =331
        Y: =103
        ZIndex: =8

        lbl_fondo_mesa As label:
            Fill: =If(ThisItem.IsSelected, RGBA(0, 0, 250, 0.2), RGBA(0, 0, 0, 0))
            Height: =90
            OnSelect: =Select(Parent)
            Text: =
            Width: =73
            ZIndex: =1

        lbl_orden As label:
            FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
            Height: =Self.Size * 1.8
            OnSelect: =Select(Parent)
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Text: |-
                ="Orden: "&ThisItem.Orden_Mesa
            VerticalAlign: =VerticalAlign.Top
            Visible: =false
            Width: =lbl_numeromesa_4.Width
            Y: =68
            ZIndex: =4

        btn_seleccion_mesa_1 As button:
            BorderColor: =
            BorderStyle: =BorderStyle.None
            DisabledBorderColor: =RGBA(0, 255, 26, 0.38)
            DisabledColor: =RGBA(0, 0, 0, 0)
            DisabledFill: =RGBA(30, 255, 0, 0.44)
            Fill: =RGBA(0, 0, 0, 0)
            Height: =89
            HoverBorderColor: =
            HoverColor: =RGBA(0, 0, 0, 0)
            HoverFill: =
            OnSelect: =
            PressedBorderColor: =
            PressedColor: =
            PressedFill: =RGBA(0, 0, 0, 0)
            RadiusBottomLeft: =5
            RadiusBottomRight: =5
            RadiusTopLeft: =5
            RadiusTopRight: =5
            Text: =""
            Width: =73
            ZIndex: =5

        gp_mesa_1 As group:
            Height: =5
            Width: =5
            X: =40
            Y: =40
            ZIndex: =5

            lbl_estadomesa_3 As label:
                BorderColor: =If(ThisItem.Estado ="Disponible", RGBA(99, 139, 44, 1), RGBA(139, 99, 44, 1))
                BorderThickness: =2
                Fill: =If(ThisItem.SubEstado, If(ThisItem.Estado ="Disponible", RGBA(0, 250, 0, 0.5), RGBA(250, 0, 0, 0.5)), RGBA(250, 250, 0, 0.5))
                Height: =72
                OnSelect: |-
                    =Select(Parent); 
                    Navigate(scr_CrearReserva)
                Text: =""
                Width: =56
                X: =8
                Y: =8
                ZIndex: =2

            lbl_numeromesa_4 As label:
                Align: =Align.Center
                FontWeight: =FontWeight.Bold
                Height: =56
                OnSelect: =Select(Parent)
                PaddingBottom: =0
                PaddingLeft: =0
                PaddingRight: =0
                PaddingTop: =0
                Text: ="Mesa"&ThisItem.Numero_Mesa
                Width: =56
                X: =8
                Y: =16
                ZIndex: =3

    icn_atras_2 As icon.BackArrow:
        Height: =45
        Icon: =Icon.BackArrow
        OnSelect: |
            =Navigate(scr_Evento)
        Width: =45
        X: =15
        Y: =75
        ZIndex: =10

    gp_mapa As group:
        Height: =5
        Width: =5
        X: =40
        Y: =40
        ZIndex: =21

        btn_ver_mapa_1 As button:
            BorderColor: =RGBA(0, 0, 0, 1)
            Fill: =RGBA(0, 97, 201, 1)
            Height: =90
            HoverBorderColor: =
            HoverFill: =
            OnSelect: =Set(var_mapa,!var_mapa)
            PressedFill: =Self.Fill
            RadiusBottomLeft: =100
            RadiusBottomRight: =100
            RadiusTopLeft: =100
            RadiusTopRight: =100
            Text: =""
            Visible: =!var_mapa
            Width: =90
            X: =1265
            Y: =86
            ZIndex: =19

        icn_ubicacion_1 As icon.Cancel:
            Color: =RGBA(255, 255, 255, 1)
            Height: =40
            Icon: =Icon.Location
            OnSelect: =Set(var_mapa,!var_mapa)
            Visible: =!var_mapa
            Width: =40
            X: =1290
            Y: =87
            ZIndex: =20

        lbl_titulo_plano_mesas As label:
            Align: =Align.Center
            Color: =RGBA(255, 255, 255, 1)
            FontWeight: =FontWeight.Bold
            Height: =49
            Size: =11
            Text: ="Plano mesas"
            Visible: =!var_mapa
            Width: =70
            X: =1275
            Y: =121
            ZIndex: =21

        btn_ver_mapa As button:
            BorderColor: =RGBA(0, 0, 0, 1)
            BorderStyle: =BorderStyle.None
            Fill: =RGBA(0, 0, 0, 0)
            Height: =90
            HoverBorderColor: =
            HoverFill: =
            OnSelect: |-
                =//Set(var_mapa;!var_mapa)
                //Launch("https://totalworkplace.sharepoint.com/_api/v2.1/drives"&Substitute(Substitute(Substitute(Last(Split(First(Filter(Eventos ; ID = DataCardValue27.Text)).Mapa.Full; "drives")).Value; "%2F"; "/"); "%21"; "!"); "%3F"; "?"))
                
                Set(var_LinkMapa, 'SantaBarbaara-ObtenerMapa_1'.Run(DataCardValue27.Text).link);
                Launch(var_LinkMapa)
            PressedFill: =Self.Fill
            RadiusBottomLeft: =100
            RadiusBottomRight: =100
            RadiusTopLeft: =100
            RadiusTopRight: =100
            Text: =""
            Visible: =!var_mapa
            Width: =90
            X: =1265
            Y: =86
            ZIndex: =22

    lbl_fondo_8 As label:
        Fill: =RGBA(0, 200, 170, 0.74)
        Height: =707
        Text: =""
        Visible: =var_mapa
        Width: =1366
        Y: =61
        ZIndex: =23

    cvs_mapa_1 As fluidGrid.fluidGridWithBlankCard:
        BorderThickness: =0
        Height: =707
        Visible: =var_mapa
        Width: =Parent.Width
        Y: =61
        ZIndex: =24

        dc_mapa_1 As dataCard:
            BorderColor: =RGBA(0, 0, 0, 1)
            BorderStyle: =BorderStyle.Solid
            BorderThickness: =0
            DisplayMode: =DisplayMode.Edit
            Fill: =RGBA(0, 0, 0, 0)
            Height: =Parent.Height - 100
            Width: =Parent.Width
            X: =0
            Y: =0
            ZIndex: =1

            icn_cancelar_1 As icon.Cancel:
                Color: =RGBA(255, 255, 255, 1)
                Height: =60
                Icon: =Icon.Cancel
                OnSelect: =Set(var_mapa,!var_mapa)
                Width: =60
                X: =1280
                Y: =15
                ZIndex: =1

            "img_spinner_3 As 'Indicador giratorio'":
                BasePaletteColor: =
                DisplayMode: =DisplayMode.Edit
                Font: =""
                FontColor: =
                FontItalic: =false
                FontSize: =0
                FontStrikethrough: =false
                FontUnderline: =false
                FontWeight: =""
                Height: =692
                SpinnerSize: ='Spinner.SpinnerSize'.Huge
                Visible: =var_mapa
                Width: =1126
                X: =112
                Y: =0
                ZIndex: =2

            img_mapa_1 As image:
                Height: =1347
                Image: =First(Filter(Eventos , ID = DataCardValue27.Text)).Mapa1.Full
                ImagePosition: =ImagePosition.Stretch
                Visible: =var_mapa
                Width: =909
                X: =220
                Y: =15
                ZIndex: =3

    cbox_numero_orden As dropdown:
        Default: =gal_grilla_mesas.Selected.Orden_Mesa
        Height: =30
        Items: |-
            =//Sort(Filter(Mesas_1; Id_Evento = DataCardValue27.Text);Orden_Mesa; SortOrder.Ascending)
            col_OrdenMesa
        Size: =11
        Visible: =false
        Width: =69
        X: =231
        Y: =396
        ZIndex: =25

    ddl_pendiente_1 As dropdown:
        Height: =28
        Items: =["Pendiente"]
        Visible: =false
        Width: =135
        X: =1231
        Y: =740
        ZIndex: =26

    ddl_disponible_1 As dropdown:
        Height: =28
        Items: =["Disponible"]
        Visible: =false
        Width: =135
        X: =1178
        Y: =740
        ZIndex: =27

    gp_detalle_mesa As group:
        Height: =5
        Width: =5
        X: =40
        Y: =40
        ZIndex: =27

        th_fondo_detalle_mesa As htmlViewer:
            Height: =219
            HtmlText: |-
                ="<div style=""margin: 0px; width: "&(Self.Width-13)&"px; height: "&(Self.Height-13)&"px; background-color: rgba(255,255,255,0.5); box-shadow: 2px 2px 2px 0px rgba(0,0,0,0.2); border-radius:5px""></div>"
            Width: =288
            X: =22
            Y: =248
            ZIndex: =9

        lbl_numero_mesa_1 As label:
            FontWeight: =FontWeight.Bold
            Size: =14
            Text: |-
                ="Número de mesa: "&gal_grilla_mesas.Selected.Numero_Mesa
            Width: =218
            X: =32
            Y: =271
            ZIndex: =11

        lbl_titulo_estado_1 As label:
            FontWeight: =FontWeight.Bold
            Size: =14
            Text: |-
                ="Estado: "&gal_grilla_mesas.Selected.Estado
            Width: =218
            X: =32
            Y: =314
            ZIndex: =12

        lbl_titulo_subestado As label:
            FontWeight: =FontWeight.Semibold
            Size: =14
            Text: |-
                ="Habilitada: "//&Gallery5_1.Selected.SubEstado
            Width: =112
            X: =38
            Y: =396
            ZIndex: =13

        cbox_numero_orden1 As combobox:
            DefaultSelectedItems: =[gal_grilla_mesas.Selected.Orden_Mesa]
            DisplayFields: =["Title"]
            Height: =30
            InputTextPlaceholder: ="Estacionamiento"
            IsSearchable: =false
            Items: =Filter(Mesas_1, Id_Evento = var_idEvento)
            SearchFields: =["Title"]
            SearchItems: =[]
            SelectMultiple: =false
            Size: =10
            Visible: =false
            Width: =64
            X: =217
            Y: =391
            ZIndex: =14

        icn_guardar As icon.Save:
            Height: =50
            Icon: =Icon.Save
            OnSelect: |-
                =Patch(Mesas_1, gal_grilla_mesas.Selected, {Orden_Mesa: cbox_numero_orden.Selected.Orden, SubEstado: img_switch_subestado.Value, Estado: If(img_switch_subestado.Value, ddl_disponible_1.SelectedText.Value, ddl_pendiente_1.SelectedText.Value)})
            Width: =46
            X: =250
            Y: =266
            ZIndex: =15

        lbl_titulo_numero_orden As label:
            FontWeight: =FontWeight.Semibold
            Size: =14
            Text: |-
                ="Número de orden: "//&Gallery5_1.Selected.Orden_Mesa
            Visible: =false
            Width: =173
            X: =47
            Y: =449
            ZIndex: =16

        Rectangle3 As rectangle:
            DisplayMode: =DisplayMode.Disabled
            Fill: =RGBA(102, 182, 227, 1)
            Height: =2
            Width: =235
            X: =47
            Y: =371
            ZIndex: =17

        img_switch_subestado As toggleSwitch:
            Default: =gal_grilla_mesas.Selected.SubEstado
            FalseText: =""
            Height: =30
            OnSelect: =
            Size: =11
            TrueText: =""
            Width: =57
            X: =154
            Y: =401
            ZIndex: =18

